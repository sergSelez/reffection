'use client';
import { useState } from 'react';
import CustomText from '../../utilities/CustomText/CustomText';
import FormModal from '../../utilities/Modals/FormModal/FormModal';
import SectionHeadTitlte from '../../utilities/SectionHead/SectionHeadTitlte';
import './ProductPageWhyNeed.scss';
// import Modal from 'react-modal';

//TODO: modal

// Modal.setAppElement('#root');
function ProductPageWhyNeed({ content }) {
  const [modalIsOpen, setIsOpen] = useState(false);
  const [modalContent, setModalContent] = useState({});

  function openModal(product) {
    setModalContent(product);
    setIsOpen(true);
  }

  function closeModal() {
    setIsOpen(false);
  }

  return (
    <section className="product_page_need">
      <div className="row">
        <div className="col-12 show_tablet">
          <div className="product_page_need_head">
            <div className="product_page_need_left-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none">
                <path
                  d="M29.1211 36.6639C29.099 36.5532 29.0879 36.4426 29.0879 36.3319C29.0879 36.1992 29.0879 36.0775 29.0879 35.9668C29.0879 35.148 29.232 34.4398 29.5202 33.8423C29.8084 33.2448 30.1853 32.7026 30.6508 32.2158C31.1164 31.7068 31.6041 31.231 32.114 30.7884C32.6461 30.3237 33.156 29.8368 33.6437 29.3278C33.9319 29.018 34.1869 28.686 34.4086 28.332C34.6302 27.9557 34.7965 27.5685 34.9074 27.1701C35.0404 26.7718 35.1069 26.3956 35.1069 26.0415C35.1069 25.2891 34.9406 24.6584 34.6081 24.1494C34.2755 23.6404 33.8211 23.2642 33.2447 23.0207C32.6683 22.7552 31.9921 22.6224 31.2162 22.6224C30.6176 22.6224 30.0079 22.7109 29.3872 22.888C28.7886 23.0429 28.2676 23.3195 27.8242 23.7178C27.3808 24.0941 27.0816 24.6141 26.9264 25.278H24C24.1108 24.3928 24.3769 23.6183 24.7981 22.9544C25.2415 22.2905 25.7957 21.7483 26.4608 21.3278C27.1259 20.8852 27.8575 20.5532 28.6556 20.3319C29.4759 20.1106 30.3183 20 31.1829 20C32.3579 20 33.4663 20.2102 34.5083 20.6307C35.5503 21.029 36.3927 21.6598 37.0356 22.5228C37.6785 23.3859 38 24.5145 38 25.9087C38 26.5947 37.9113 27.2365 37.734 27.834C37.5566 28.4094 37.2906 28.9627 36.9359 29.4938C36.6033 30.0028 36.2043 30.5007 35.7387 30.9876C35.1623 31.6072 34.5859 32.1715 34.0095 32.6805C33.4331 33.1674 32.9565 33.6985 32.5796 34.2739C32.2027 34.8271 32.0143 35.5353 32.0143 36.3983C32.0143 36.4426 32.0143 36.4869 32.0143 36.5311C32.0143 36.5754 32.0143 36.6196 32.0143 36.6639H29.1211ZM30.5178 44C29.9414 44 29.4648 43.8119 29.0879 43.4357C28.7332 43.0595 28.5558 42.5837 28.5558 42.0083C28.5558 41.4329 28.7332 40.9571 29.0879 40.5809C29.4648 40.2047 29.9414 40.0166 30.5178 40.0166C31.0942 40.0166 31.5709 40.2047 31.9477 40.5809C32.3246 40.9571 32.5131 41.4329 32.5131 42.0083C32.5131 42.5837 32.3246 43.0595 31.9477 43.4357C31.5709 43.8119 31.0942 44 30.5178 44Z"
                  fill="#C9C9C9"
                />
                <path
                  d="M62.0001 38C62.0001 49.3136 62.0001 54.9708 58.4853 58.4853C54.9708 62.0001 49.3136 62.0001 38 62.0001"
                  stroke="#C9C9C9"
                  strokeWidth="3"
                  strokeLinecap="round"
                />
                <path
                  d="M26.0001 62.0001C14.6863 62.0001 9.02948 62.0001 5.51472 58.4853C2 54.9708 2 49.3136 2 38"
                  stroke="#C9C9C9"
                  strokeWidth="3"
                  strokeLinecap="round"
                />
                <path
                  d="M26.0001 2C14.6863 2 9.02948 2 5.51472 5.51472C2 9.02948 2 14.6863 2 26.0001"
                  stroke="#C9C9C9"
                  strokeWidth="3"
                  strokeLinecap="round"
                />
                <path
                  d="M38 2C49.3136 2 54.9708 2 58.4853 5.51472C62.0001 9.02948 62.0001 14.6863 62.0001 26.0001"
                  stroke="#C9C9C9"
                  strokeWidth="3"
                  strokeLinecap="round"
                />
              </svg>
            </div>
            <SectionHeadTitlte
              className={'product_page_need_left-title'}
              dangerouslySetInnerHTML={{ __html: content.title }}
            />
          </div>
        </div>
        <div className="col-xxl-5 col-xl-6 col-md-6">
          <div className="product_page_need_left">
            <div className="product_page_need_left-head hide_tablet">
              <div className="product_page_need_left-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none">
                  <path
                    d="M29.1211 36.6639C29.099 36.5532 29.0879 36.4426 29.0879 36.3319C29.0879 36.1992 29.0879 36.0775 29.0879 35.9668C29.0879 35.148 29.232 34.4398 29.5202 33.8423C29.8084 33.2448 30.1853 32.7026 30.6508 32.2158C31.1164 31.7068 31.6041 31.231 32.114 30.7884C32.6461 30.3237 33.156 29.8368 33.6437 29.3278C33.9319 29.018 34.1869 28.686 34.4086 28.332C34.6302 27.9557 34.7965 27.5685 34.9074 27.1701C35.0404 26.7718 35.1069 26.3956 35.1069 26.0415C35.1069 25.2891 34.9406 24.6584 34.6081 24.1494C34.2755 23.6404 33.8211 23.2642 33.2447 23.0207C32.6683 22.7552 31.9921 22.6224 31.2162 22.6224C30.6176 22.6224 30.0079 22.7109 29.3872 22.888C28.7886 23.0429 28.2676 23.3195 27.8242 23.7178C27.3808 24.0941 27.0816 24.6141 26.9264 25.278H24C24.1108 24.3928 24.3769 23.6183 24.7981 22.9544C25.2415 22.2905 25.7957 21.7483 26.4608 21.3278C27.1259 20.8852 27.8575 20.5532 28.6556 20.3319C29.4759 20.1106 30.3183 20 31.1829 20C32.3579 20 33.4663 20.2102 34.5083 20.6307C35.5503 21.029 36.3927 21.6598 37.0356 22.5228C37.6785 23.3859 38 24.5145 38 25.9087C38 26.5947 37.9113 27.2365 37.734 27.834C37.5566 28.4094 37.2906 28.9627 36.9359 29.4938C36.6033 30.0028 36.2043 30.5007 35.7387 30.9876C35.1623 31.6072 34.5859 32.1715 34.0095 32.6805C33.4331 33.1674 32.9565 33.6985 32.5796 34.2739C32.2027 34.8271 32.0143 35.5353 32.0143 36.3983C32.0143 36.4426 32.0143 36.4869 32.0143 36.5311C32.0143 36.5754 32.0143 36.6196 32.0143 36.6639H29.1211ZM30.5178 44C29.9414 44 29.4648 43.8119 29.0879 43.4357C28.7332 43.0595 28.5558 42.5837 28.5558 42.0083C28.5558 41.4329 28.7332 40.9571 29.0879 40.5809C29.4648 40.2047 29.9414 40.0166 30.5178 40.0166C31.0942 40.0166 31.5709 40.2047 31.9477 40.5809C32.3246 40.9571 32.5131 41.4329 32.5131 42.0083C32.5131 42.5837 32.3246 43.0595 31.9477 43.4357C31.5709 43.8119 31.0942 44 30.5178 44Z"
                    fill="#C9C9C9"
                  />
                  <path
                    d="M62.0001 38C62.0001 49.3136 62.0001 54.9708 58.4853 58.4853C54.9708 62.0001 49.3136 62.0001 38 62.0001"
                    stroke="#C9C9C9"
                    strokeWidth="3"
                    strokeLinecap="round"
                  />
                  <path
                    d="M26.0001 62.0001C14.6863 62.0001 9.02948 62.0001 5.51472 58.4853C2 54.9708 2 49.3136 2 38"
                    stroke="#C9C9C9"
                    strokeWidth="3"
                    strokeLinecap="round"
                  />
                  <path
                    d="M26.0001 2C14.6863 2 9.02948 2 5.51472 5.51472C2 9.02948 2 14.6863 2 26.0001"
                    stroke="#C9C9C9"
                    strokeWidth="3"
                    strokeLinecap="round"
                  />
                  <path
                    d="M38 2C49.3136 2 54.9708 2 58.4853 5.51472C62.0001 9.02948 62.0001 14.6863 62.0001 26.0001"
                    stroke="#C9C9C9"
                    strokeWidth="3"
                    strokeLinecap="round"
                  />
                </svg>
              </div>
              <SectionHeadTitlte
                className={'product_page_need_left-title'}
                dangerouslySetInnerHTML={{ __html: content.title }}
              />
            </div>
            <CustomText
              className={'product_page_need_left-text'}
              dangerouslySetInnerHTML={{ __html: content.mainText }}
            />
          </div>
        </div>
        <div className="offset-xxl-2 col-xxl-5 offset-xl-0 col-xl-6 col-md-6">
          <div className="product_page_need_right">
            <div className="product_page_need_right_content">
              <CustomText className={'product_page_need_right_content-text small'}>
                <p dangerouslySetInnerHTML={{ __html: content.rightText }} />
              </CustomText>

              {content.rightSubText && (
                <div className="product_page_need_right_content-sub_text">
                  <p dangerouslySetInnerHTML={{ __html: content.rightSubText }} />
                </div>
              )}
              {content.rightbtn && (
                <button
                  onClick={openModal}
                  className={`product_page_need_right_content-btn btn white ${content?.rightbtnClassColor}`}
                >
                  <div className="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width={21} height={20} viewBox="0 0 21 20" fill="none">
                      <path
                        d="M21 10.0286C21.0004 11.8914 20.8161 13.7499 20.4498 15.5777C20.4093 15.7784 20.2892 15.955 20.1159 16.0689C19.9426 16.1827 19.7302 16.2245 19.5255 16.1849C19.3208 16.1454 19.1405 16.0278 19.0243 15.858C18.908 15.6882 18.8653 15.4801 18.9055 15.2794C19.252 13.5498 19.4263 11.7912 19.4259 10.0286C19.4259 7.77803 18.5138 5.61965 16.8902 4.02827C15.2666 2.43689 13.0645 1.54286 10.7684 1.54286C8.47233 1.54286 6.27027 2.43689 4.64668 4.02827C3.02309 5.61965 2.11096 7.77803 2.11096 10.0286C2.11232 11.1672 1.91535 12.2977 1.52856 13.3714C1.45866 13.5638 1.31372 13.7213 1.12554 13.8091C0.937359 13.897 0.721308 13.9081 0.524785 13.84C0.328262 13.7719 0.167316 13.6302 0.0772572 13.446C-0.0128013 13.2617 -0.0246175 13.05 0.0444008 12.8572C0.371597 11.9487 0.538149 10.9921 0.536879 10.0286C0.536879 7.36883 1.61484 4.81803 3.53363 2.9373C5.45242 1.05658 8.05486 0 10.7684 0C13.482 0 16.0845 1.05658 18.0032 2.9373C19.922 4.81803 21 7.36884 21 10.0286ZM7.32551 5.81275C7.48838 5.68477 7.59272 5.49863 7.61556 5.29525C7.63841 5.09188 7.5779 4.88794 7.44733 4.7283C7.38268 4.64925 7.30279 4.58346 7.2122 4.53468C7.12161 4.4859 7.0221 4.45509 6.91937 4.444C6.71188 4.42161 6.50381 4.48092 6.34094 4.60889C5.51049 5.25799 4.84033 6.08254 4.38045 7.02099C3.92057 7.95945 3.68286 8.98758 3.68505 10.0287C3.69036 11.8139 3.26994 13.5756 2.45731 15.1733C2.4111 15.264 2.38359 15.3628 2.37636 15.464C2.36914 15.5651 2.38233 15.6667 2.41518 15.7628C2.44804 15.859 2.49992 15.9479 2.56785 16.0243C2.63578 16.1008 2.71843 16.1634 2.81107 16.2086C2.90371 16.2537 3.00452 16.2805 3.10774 16.2875C3.21096 16.2944 3.31455 16.2813 3.4126 16.2489C3.51065 16.2166 3.60123 16.1656 3.67916 16.0989C3.75708 16.0321 3.82082 15.951 3.86673 15.8602C4.78816 14.0492 5.26498 12.0523 5.25914 10.0287C5.25748 9.2188 5.44246 8.41901 5.80026 7.68901C6.15806 6.959 6.67945 6.31763 7.32551 5.81275ZM10.7684 9.25725C10.5597 9.25725 10.3595 9.33853 10.2119 9.4832C10.0643 9.62787 9.98141 9.82408 9.9814 10.0287C9.98206 13.0339 9.20446 15.9902 7.72143 18.6205C7.67123 18.7091 7.63932 18.8065 7.62755 18.9072C7.61577 19.0079 7.62435 19.1099 7.6528 19.2073C7.68125 19.3048 7.729 19.3958 7.79334 19.4751C7.85768 19.5544 7.93734 19.6206 8.02776 19.6697C8.11818 19.7189 8.2176 19.7501 8.32033 19.7616C8.42307 19.773 8.5271 19.7646 8.62649 19.7366C8.72588 19.7087 8.81868 19.6618 8.89958 19.5987C8.98048 19.5356 9.0479 19.4574 9.09799 19.3688C10.7104 16.5094 11.556 13.2957 11.5555 10.0287C11.5555 9.82408 11.4726 9.62787 11.325 9.4832C11.1774 9.33853 10.9772 9.25725 10.7684 9.25725ZM10.7684 6.17153C9.72512 6.1727 8.72488 6.57945 7.98714 7.30255C7.2494 8.02565 6.83442 9.00605 6.83322 10.0287C6.83322 10.2333 6.91614 10.4295 7.06374 10.5742C7.21134 10.7188 7.41153 10.8001 7.62027 10.8001C7.829 10.8001 8.02919 10.7188 8.17679 10.5742C8.32439 10.4295 8.40731 10.2333 8.40731 10.0287C8.40731 9.41489 8.65607 8.82624 9.09887 8.39223C9.54167 7.95821 10.1422 7.71439 10.7684 7.71439C11.3946 7.71439 11.9952 7.95821 12.438 8.39223C12.8808 8.82624 13.1296 9.41489 13.1296 10.0287C13.1376 13.0959 12.4483 16.1263 11.1117 18.8996C11.0676 18.9913 11.0424 19.0905 11.0375 19.1917C11.0325 19.2929 11.048 19.3941 11.0829 19.4894C11.1179 19.5847 11.1716 19.6724 11.2411 19.7474C11.3107 19.8223 11.3945 19.8832 11.488 19.9264C11.5815 19.9696 11.6828 19.9943 11.786 19.9991C11.8893 20.004 11.9925 19.9888 12.0897 19.9546C12.187 19.9203 12.2764 19.8676 12.3529 19.7995C12.4294 19.7314 12.4915 19.6491 12.5355 19.5575C13.9714 16.5785 14.7121 13.3234 14.7037 10.0287C14.7025 9.00605 14.2875 8.02565 13.5497 7.30255C12.812 6.57945 11.8118 6.1727 10.7684 6.17153ZM7.46194 12.3583C7.2574 12.3178 7.04484 12.3586 6.8709 12.4715C6.69696 12.5845 6.57585 12.7605 6.53414 12.9609C6.2153 14.5015 5.6437 15.9812 4.8416 17.3424C4.78987 17.4301 4.7563 17.527 4.74279 17.6275C4.72928 17.728 4.7361 17.8301 4.76286 17.928C4.78962 18.0259 4.8358 18.1176 4.89876 18.198C4.96172 18.2784 5.04022 18.3459 5.12978 18.3965C5.21934 18.4472 5.31821 18.48 5.42073 18.4932C5.52325 18.5064 5.62742 18.4996 5.72728 18.4733C5.82713 18.4471 5.92073 18.4017 6.00272 18.34C6.0847 18.2782 6.15347 18.2012 6.20509 18.1134C7.09215 16.608 7.72423 14.9715 8.07672 13.2677C8.11822 13.0672 8.07677 12.8587 7.96147 12.6882C7.84618 12.5177 7.66649 12.399 7.46194 12.3583ZM10.7684 3.08581C10.4727 3.08582 10.1773 3.10375 9.88388 3.13949C9.78132 3.15204 9.68229 3.18427 9.59243 3.23434C9.50258 3.2844 9.42366 3.35132 9.3602 3.43128C9.29673 3.51124 9.24995 3.60267 9.22254 3.70035C9.19512 3.79802 9.1876 3.90004 9.20041 4.00057C9.22627 4.20359 9.33335 4.38823 9.49811 4.51386C9.57968 4.57607 9.67296 4.62192 9.77262 4.64879C9.87227 4.67566 9.97635 4.68303 10.0789 4.67048C10.3077 4.6426 10.5379 4.62863 10.7684 4.62867C12.2291 4.63028 13.6295 5.19972 14.6623 6.21207C15.6951 7.22442 16.2761 8.597 16.2777 10.0287C16.2778 11.0282 16.2147 12.0269 16.0889 13.0188C16.0631 13.2218 16.1206 13.4266 16.2488 13.5881C16.377 13.7495 16.5654 13.8545 16.7725 13.8798C16.9797 13.9051 17.1886 13.8488 17.3533 13.7231C17.518 13.5975 17.6251 13.4128 17.6509 13.2098C17.7847 12.1545 17.8518 11.0921 17.8518 10.0287C17.8497 8.18795 17.1028 6.42321 15.7748 5.12162C14.4469 3.82003 12.6464 3.08789 10.7684 3.08581ZM16.4676 15.453C16.3675 15.4276 16.2633 15.4219 16.1609 15.4361C16.0586 15.4503 15.9601 15.4841 15.8711 15.5356C15.7821 15.5871 15.7043 15.6553 15.6422 15.7364C15.5801 15.8174 15.5349 15.9096 15.5092 16.0077C15.3651 16.5563 15.199 17.1061 15.0155 17.642C14.9826 17.7381 14.9694 17.8395 14.9765 17.9406C14.9836 18.0416 15.0109 18.1403 15.0569 18.231C15.103 18.3217 15.1668 18.4027 15.2447 18.4692C15.3226 18.5358 15.4132 18.5866 15.5112 18.6188C15.6091 18.6511 15.7126 18.6641 15.8158 18.6571C15.9189 18.6501 16.0196 18.6233 16.1121 18.5782C16.2046 18.5331 16.2872 18.4706 16.3551 18.3942C16.423 18.3178 16.4749 18.2291 16.5077 18.133C16.7033 17.5622 16.8802 16.9765 17.0336 16.3923C17.0593 16.2942 17.0651 16.1921 17.0506 16.0918C17.0361 15.9915 17.0016 15.895 16.9491 15.8077C16.8965 15.7205 16.8269 15.6443 16.7443 15.5834C16.6617 15.5225 16.5677 15.4782 16.4676 15.453Z"
                        fill="#121212"
                      />
                    </svg>
                  </div>
                  Оставить заявку
                </button>
              )}
              {content.rightIcon && (
                <div
                  className="product_page_need_right_content-icon"
                  dangerouslySetInnerHTML={{ __html: content.rightIcon }}
                />
              )}
            </div>
            <span className="line_top-bot"></span>
            <span className="line_right-left"></span>
          </div>
        </div>
      </div>
      {content.rightbtn && <FormModal isOpen={modalIsOpen} onRequestClose={closeModal} content={modalContent} />}
    </section>
  );
}

export default ProductPageWhyNeed;
